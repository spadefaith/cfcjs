(()=>{var I=(g,u)=>()=>(u||g((u={exports:{}}).exports,u),u.exports);var D=I(()=>{(function(g){g.env={destructure:!0};let u=g.env;try{let{a:c}={a:!0}}catch{u.destructure=!1}Promise.prototype.ObjectType="Promise"})(window)});var F=I(()=>{(function(g){HTMLCollection.prototype.toArray=function(){let u=[];for(let c=0;c<this.length;c++)u[c]=this[c];return u},NodeList.prototype.toArray=function(){let u=[],c=-1,f=this.length;for(;++c<f;)u[c]=this[c];return u},Object.cache=Object.create(null),String.prototype.toHyphen=function(){let u=Object.cache,c=null,f=this;if(u.toHyphen||(u.toHyphen={}),u[f]&&(c=u[f]),c!=null)return c;let m=f.split(""),e="",t=-1;for(;++t<m.length;){let r=m[t];switch(t){case 0:e+=r.toLowerCase();break;default:r.charCodeAt()<91&&(e+="-"),e+=r.toLowerCase()}}return u[f]=e,c=e,c},String.prototype.toCamelCase=function(){let u=this.toLowerCase(),c=Object.cache,f=null;switch(!0){case!c.toCamel:c.toCamel={};case!0:c=c.toCamel;case c[u]:f=c[u];break;default:{let m=u.split("-");if(m.length==1)return u;let e="",t=-1,r=m.length;for(;++t<r;){let a=m[t];switch(t){case 0:e+=a;default:{let s=a.substring(0,1).toUpperCase(),h=a.substring(1);e+=s+h}break}}c[u]=e,f=e}break}return f},HTMLElement.prototype.querySelectorIncluded=function(u,c,f){let m=this.querySelector(u);return m||(()=>{switch(!0){case(!c&&!f):{let e=this.closest(u);e==this&&(m=e)}break;case(!!c&&!!f):m=this.getAttribute(c)==f?this:null;break;case(!!c&&!f):m=this.getAttribute(c)?this:null;break}return m})()},HTMLElement.prototype.querySelectorAllIncluded=function(u,c,f){let m=this.querySelectorAll(u).toArray();switch(!0){case(!c&&!f):{let e=this.closest(u);e==this&&m.push(e)}break;case(c&&f):this.getAttribute(c)==f&&m.push(this);break;case(c&&!f):this.getAttribute(c)&&m.push(this);break}return m},HTMLDocument.prototype.querySelectorIncluded=function(u){return this.querySelector(u)},HTMLDocument.prototype.querySelectorAllIncluded=function(u){return this.querySelectorAll(u)},Array.prototype.toggler=function(u,c){for(let f=0;f<this.length;f++){let m=this[f];(m.dataset.name==u||m.classList.contains(c))&&m.classList.toggle(c)}},HTMLElement.prototype.Ref=function(){let u="_cakes_storage";!this[u]&&(this._cakes_storage={});let c=this[u];return{set(f,m){c[f]=m},get(f){return c[f]},getAll(f){return c},remove(f){delete c[f]}}}})(window)});var B=I(()=>{Object.keys||(Object.keys=function(g){var u=[];for(var c in g)g.hasOwnProperty(c)&&u.push(c);return u})});var K=I((xt,W)=>{var R={},H={typeof:function(g){switch(!0){case typeof g=="string":return"string";case typeof g=="number":return"number";case g instanceof Array:return"array";case g instanceof Function:return"function";case g instanceof HTMLCollection:return"htmlcollection";case g instanceof NodeList:return"htmlnodelist";case g instanceof Element:return"domlement";case g instanceof Object:return"object"}},isArray:function(g){return this.typeof(g)=="array"},isObject:function(g){return this.typeof(g)=="object"},isNumber:function(g){return this.typeof(g)=="number"},isString:function(g){return this.typeof(g)=="string"},isHTMLCollection:function(g){return this.typeof(g)=="htmlcollection"},isNodeList:function(g){return this.typeof(g)=="htmlnodelist"},isElement:function(g){return this.typeof(g)=="domlement"},isFunction:function(g){return this.typeof(g)=="function"}},x={each:function(g,u,c){if(c=="object"){var f=0;for(var m in g)g.hasOwnProperty(m)&&(u({key:m,value:g[m]},f),f=f+1)}else for(var e=0;e<g.length;e++)u(g[e],e)},map:function(g,u){var c=H.isArray(g)||g.length?"array":"object",f=g.length&&c=="array"?[]:{};return this.each(g,function(m,e){var t=u(m,e);c=="object"?f[t.key]=t.value:f.push(t)},c),f},reduce:function(g,u,c){var f=H.typeof(g);return this.each(g,function(m,e){u=c(m,u,e)},f),u},filter:function(g,u){var c=H.isArray(g)||g.length?"array":"object",f=g.length&&c=="array"?[]:{};return this.each(g,function(m,e){var t=u(m,e);t&&(c=="object"?f[m.key]=m.value:f.push(m.value))},c),f}},J={perf:function(g){console.time("test"),g(),console.timeEnd("test")},logTest:function(g,u,c){switch(u){case"==":return g==c;case"!=":return g!=c;case"<":return g<c;case">":return g>c;case">=":return g>=c;case"<=":return g<=c}},toUrlSearchParams:function(g,u=!0){let c="";for(let f in g)if(g.hasOwnProperty(f)){let m=g[f];u&&m?c+=`${encodeURI(f)}=${encodeURI(m)}&`:c+=`${encodeURI(f)}=${encodeURI(m)}&`}return c},sanitize:function(g){if(typeof g!="string")return g;let u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},c=/[&<>"'/]/ig;return g.replace(c,f=>u[f])},toFormData:function(g,u={}){let c=new FormData(g),f={},m=new FormData;for(let[e,t]of c.entries())t&&(t=this.sanitize(t)),u.json?u.trim?t&&(f[e]=t):f[e]=t:m.append(e,t);return u.json?f:m},loopStringSplitSpace:function(g,u){if(g=g.split(" "),H.isArray(g))for(let c=0;c<g.length;c++)u(g[c])}};try{R.UTILS={...x,...H,...J}}catch{R.UTILS={},M=x.each,M(x,function(u,c){R.UTILS[u]=c}),M(H,function(u,c){R.UTILS[u]=c}),M(J,function(u,c){R.UTILS[u]=c})}var M;W.exports=R.UTILS});var z=I(()=>{(function(){customElements.define("sub-template",class extends HTMLElement{constructor(){super()}connectedCallback(){this.replace(this)}replace(g){let u=g.dataset.template,c=document.getElementsByName(u);if(c.length>1){console.error(`template with name ${u} has more than one reference.`);return}if(!c)throw g.remove(),new Error(`${u} is not found!`);if(c[0]){let f=c[0];if(f.constructor.name=="HTMLTemplateElement"){if(f=f.content.cloneNode(!0).firstElementChild,!f)return;let m=g.attributes;for(let e=0;e<m.length;e++){let t=m[e];t.name!="data-template"&&f.setAttribute(t.name,t.value)}g.replaceWith(f)}else throw new Error(`${u} is not referred to a Template Element!`)}}}),HTMLTemplateElement.prototype.replaceSubTemplate=function(g){let u=g.getElementsByTagName("sub-template");if(u){u=u.toArray();for(let c=0;c<u.length;c++){let f=u[c];customElements.get("sub-template").prototype.replace(f)}}},HTMLTemplateElement.prototype.collectContent=function(){let g=this,u=null,c=g.cloneNode(!0),f=document.createDocumentFragment(),m=c.content.querySelector("style");m&&f.appendChild(m);let e=[];for(let t=0;t<c.content.children.length;t++){let r=c.content.children[0];this.replaceSubTemplate(r),e.push(r)}return u={style:f.children[0],others:e},u},HTMLTemplateElement.prototype.parseStyle=function(g){if(!g)return!1;var u=g.textContent;if(u=u.replace(/\s/g,""),!u.length)return;let c=!1,f=!1,m=!1,e=u.split(""),t="";u="";var r=!1;for(let a=0;a<e.length;a++){let s=e[a];s=="{"&&(c=!0,f=!0),s=="}"&&(c=!1,f=!1),!c&&s!="	"&&s!="}"&&s!=" "&&s!=";"&&(t+=s),f&&s!="	"&&s!="{"&s!=" "&&(u+=s),s=="}"&&(r||(r={}),r[t]=u,t="",u="")}return r},HTMLTemplateElement.prototype.parseHTML=function(g){if(g){var u=document.createElement("HTML");for(let c=0;c<g.length;c++){let f=g[c];u.append(f)}}return u||!1},HTMLTemplateElement.prototype.getContent=function(g){let{style:u,others:c}=this.collectContent(),f=this.parseStyle(u),m=this.parseHTML(c);for(let e in f)if(f.hasOwnProperty(e)){let t=m.querySelectorAll(e),r=f[e];for(let a=0;a<t.length;a++)t[a].setAttribute("style",r)}return m=g?m.children.toArray():m.innerHTML,m.length==1?m[0]:m}})()});var G=I((Bt,X)=>{X.exports=function(){function g(n){return n.constructor.name.toLowerCase()}function u(n,i){for(let y in n)n.hasOwnProperty(y)&&i(n[y],y)}function c(n,i,y){n=Object.assign(n,{[y]:i})}function f(n){return n===null}function m(n){return n===void 0}function e(n){return g(n)=="array"}function t(n){return g(n)=="object"}var r=function(n,i){for(var y=null,v=0;v<n.length;v++){var b=n[v];if(g(i)=="object"){var S=i,w=Object.keys(i)[0],_=S[w];if(g(b)=="object"){var O=b[w]==_;if(O){y=v;break}}}else if(g(i)!="array"){var O=i==b;if(O){y=v;break}}}return y},a=function(n,i){var y=null,v=g(i);if(v=="object"){var b=Object.keys(i)[0];n[y]!=null&&n[y]==i[b]&&(y=b)}else v=="string"&&(y=i);return y},s=function(n,i){var y=null;return g(n)=="array"?y=r(n,i):g(n)=="object"&&(y=a(n,i)),y},h={create:function(n,i){if(e(n)){let y=new Set(n);g(i)=="array"?i.forEach(v=>{y.add(v)}):y.add(i),n=Array.from(y)}else t(n)&&(t(i)?u(i,function(y,v){n[v]=y}):n[i]=i);return n},createOrUpdate:function(n,i){var y=s(n,i);return g(n)=="array"?f(y)?n.includes(i):n[y]=i:g(n)=="object"&&(f(y)?t(i)?u(i,function(v,b){c(n,v,b)}):n[i]=i:n[y]=i),n},remove:function(n,i){if(g(i)=="string"){var y=s(n,i);if(g(n)=="object")delete n[y];else if(g(n)=="array"){for(var v=[],b=0;b<n.length;b++)if(b!=y)v.push(n[b]);else continue;n=v}return n}else{if(g(i)=="object")return Object.filter(n,function(S,w){var _=i[w]!=null&&i[w]==S;return!_});if(g(i)=="array")return Object.filter(n,function(S,w){var _=i.contains(w);return!_})}if(f(y))return!1},get:function(n,i){var y=g(i);if(y=="string"){var v=s(n,i);if(v==0||v)return n[v]}else{if(y=="object")return Object.filter(n,function(b,S){var w=!m(i[S])&&i[S]==b;return w});if(y=="array")return Object.filter(n,function(b,S){var w=i.contains(S);return w})}return null},getNot:function(n,i){var y=g(i);return y=="string"?Object.filter(n,function(v,b){var S=b!=i;return S}):y=="object"?Object.filter(n,function(v,b){return Object.some(i,function(S,w){var _=w==b&&S==v;return!_})}):y=="array"?Object.filter(n,function(v,b){var S=!i.contains(b);return S}):null},getAll:function(n){return n}},p=class{constructor(n,i,y){this.type=n,this.name=i,this.child=y,this.cache={},g(this.child)=="string"&&(this.child=y=="array"?[]:y=="object"?{}:!1)}init(n){return this[this.type]?(this[this.type](n),!0):!1}open(){if(this.type=="session"){var n=JSON.parse(sessionStorage[this.name]);return n[this.name]}else if(this.type=="local"){var n=JSON.parse(localStorage[this.name]);return n[this.name]}else return this.cache[this.name]}close(n){return this.child=n,this.create(),this.init(!0)}create(){this.cache[this.name]=this.child}array(){this.create()}object(){this.create()}session(n){this.create();try{sessionStorage[this.name]?n?sessionStorage.setItem(this.name,JSON.stringify(this.cache)):(sessionStorage.removeItem(this.name),sessionStorage.setItem(this.name,JSON.stringify(this.cache))):sessionStorage.setItem(this.name,JSON.stringify(this.cache))}catch{this.create()}}local(n){this.create();try{localStorage[this.name]?n?localStorage.setItem(this.name,JSON.stringify(this.cache)):(localStorage.removeItem(this.name),localStorage.setItem(this.name,JSON.stringify(this.cache))):localStorage.setItem(this.name,JSON.stringify(this.cache))}catch{this.create()}}},d=class{constructor(n){this.name=n.name,this.storageType=n.storage,this.child=n.child||"object";try{g(this.child)=="string"&&(this.child=this.child=="array"?[]:this.child=="object"?{}:null)}catch{this.storageType=="session"?sessionStorage.clear():this.storageType=="local"&&localStorage.clear(),g(this.child)=="string"&&(this.child=this.child=="array"?[]:this.child=="object"?{}:null)}if(!["array","object"].includes(g(this.child)))throw new Error("the child must be an object or array type.");this.storage=new p(this.storageType,this.name,this.child),this.storage.init()}has(n){var i=this.storage.open(),y=s(i,n);return f(y)?!1:y}get(n){return new Promise((i,y)=>{setTimeout(()=>{var v=this.storage.open();i(v)})}).then(i=>h.get(i,n))}getNot(n){var i=this.storage.open();return h.getNot(i,n)}getAll(){var n=this.storage.open();return Promise.resolve(n)}update(n,i){var y=this.storage.open(),v=s(y,n);return v==0||v?(y=h.createOrUpdate(y,data),this.storage.close(y)):!1}createOrUpdate(n){if(arguments.length>1){let y=arguments[0],v=arguments[1];n={[y]:v}}var i=this.storage.open();return i=h.createOrUpdate(i,n),this.storage.close(i)}create(n){var i=this.storage.open();return i=h.create(i,n),this.storage.close(i)}remove(n){var i=this.storage.open();return i=h.remove(i,n),this.storage.close(i)}};return d}});var Q=I((Jt,Y)=>{Y.exports=function(){function g(u){this.el=g.toArray(u)}return g.toArray=function(u){let c=[];switch(!0){case u instanceof Array:c=u;break;case(u.length&&u.tagName&&u.tagName!="FORM"&&!(u instanceof Array)):for(let f=0;f<u.length;f++)c.push(u[f]);break;case!(u instanceof Array):c=[u];break}return c},g.prototype.getElements=function(){return this.el},g.prototype.getElement=function(){return this.el[0]},g.prototype.remove=function(u){let c=-1,f=this.el.length,m=document.createDocumentFragment();for(;++c<f;){let e=this.el[c];e&&m.appendChild(e)}fr=null},g.prototype.replaceDataSrc=function(){let c=this.el[0].querySelectorAll("[data-src]");for(let f=0;f<c.length;f++)el=c[f],el.setAttribute("src",el.dataset.src),el.removeAttribute("data-src")},g.cloneNode=function(u){u=u instanceof Array?u:this.toArray(u);let c=[];for(let f=0;f<u.length;f++)c.push(u[f].cloneNode(!0));return new g(c)},g.prototype.dataset=function(u,c){let f=this.el.length,m=-1;for(;++m<f&&!(this.el[m].dataset[u]&&c(this.el[m])=="break"););return!0},g.prototype.getContainers=function(){return this.getElementsByDataset("container").container},g.prototype.cloneNode=function(u){return u=this.el,g.cloneNode(u)},g.prototype.getAllElements=function(){let u=this.el.length,c=[];switch(!0){case u==1:c=this.el[0].getElementsByTagName("*").toArray();break;case u>1:{let f=-1;for(;++f<u;){let e=this.el[f].getElementsByTagName("*");if(e)for(let t=0;t<e.length;t++)c.push(e[t])}}break}return c},g.prototype.appendTo=function(u,c){if(!u&&!u.attributes)throw new TypeError(`the ${u} is not an instance of Element`);c&&(u.innerHTML="");for(let f=0;f<this.el.length;f++){let m=this.el[f];u.appendChild(m)}},g.prototype.getElementsByTagName=function(u){let c=this.el.length,f=[];switch(!0){case c==1:f=this.el[0].getElementsByTagName(id).toArray();break;case c>1:{let m=-1;for(;++m<c;){let t=this.el[m].getElementsByTagName(selector);if(t)for(let r=0;r<t.length;r++)f.push(t[r])}}break}return f},g.prototype.getElementById=function(u){let c=this.el.length,f=[];switch(!0){case c==1:f=this.el[0].getElementById(id);break;case c>1:{let m=-1;for(;++m<c;){let t=this.el[m].querySelector(selector);t&&f.push(t)}}break}return f},g.prototype.querySelectorAll=function(u){let c=this.el.length,f=[];switch(!0){case c==1:f=this.el[0].querySelectorAll(u);break;case c>1:{let m=[],e=-1;for(;++e<c;){let r=this.el[e].querySelectorAll(u);r&&(f=f.concat(r.toArra()))}}break;default:f=[]}return f},g.prototype.querySelector=function(u){let c=this.el.length,f=[];switch(!0){case c==1:f=this.el[0].querySelector(u);break;case c>1:{let m=-1;for(;++m<c;){let t=this.el[m].querySelector(u);t&&f.push(t)}}break}return f},g.prototype.querySelectorIncluded=function(u,c,f){let m=this.el.length,e=[];switch(!0){case m==1:e=this.el[0].querySelectorIncluded(u,c,f);break;case m>1:{let t=-1;for(;++t<m;){let a=this.el[t].querySelectorIncluded(u,c,f);a&&e.push(a)}}break}return e},g.prototype.querySelectorAllIncluded=function(u,c,f){let m=this.el.length,e=[];switch(!0){case m==1:e=this.el[0].querySelectorAllIncluded(u,c,f);break;case m>1:{let t=-1;for(;++t<m;){let a=this.el[t].querySelectorAllIncluded(u,c,f);a&&(e=e.concat(a.toArra()))}}break}return e},g.prototype.contains=function(u){let c=this.el.length,f=!1;switch(c==1){case!0:f=this.el[0].contains(u);break;case!1:{let m=-1;for(;++m<c;)if(this.el[m].contains(u)){f=!0;break}}break}return f},g.prototype.getElementsByDataset=function(){let u,c,f,m,e,t;for(u=arguments,o={},length=u.length,f=-1,m=-1;++f<this.el.length;)for(e=this.el[f];++m<length;)c=u[m],e.getAttribute(`data-${c}`)?o[c]=[e]:o[c]=[],t=e.querySelectorAll(`[data-${c}]`),t.length&&(o[c]=o[c].concat([...t]));return o},g}});var V=I((Wt,Z)=>{Z.exports=function(){function g(u,c,f){this.subscribe=u,this.handlers=c,this.logger=f||!1,this.stat={handlers:{},subscribe:{}},this.results={},this.wm=new WeakMap}return g.prototype.notify=function(u,c,f,m,e,t){function r(){return{_component:u,_event:c,_e:f}}function a(i){return i}let{_component:s,_event:h,_e:p}=r(),d=this.handlers[s]&&this.handlers[s][h];if(d==null&&e){let i={[h]:function(){return p}};i[h].binded=s,i[h].listenTo=t,d=i[h]}if(s=d.binded,d=d,!d){console.error(`no setup handler for the event ${h} in ${s} component`);return}let n=new Promise((i,y)=>{let v=d(p);i(v)});return this.stat.handlers[d.original]+=1,n.then(i=>{let y=[];if(this.results[s]||(this.results[s]={}),this.subscribe[s]&&this.subscribe[s][h]){let v=this.subscribe[s][h];m=m?(()=>{v=v.filter(b=>{let S=b.binded;return m.includes(S)})})():!0;for(let b=0;b<v.length;b++){let S=v[b];this.stat.subscribe[S.original]+=1,y.push(new Promise((w,_)=>{try{let O=(()=>S(i))();O&&O.ObjectType=="Promise"?O.then(k=>{this.results[s]||(this.results[s]={}),this.results[s][h]=O,w()}).catch(k=>{_(k)}):(this.results[s][h]=O,w())}catch(O){console.log(O),_(O)}}))}}else this.logger&&console.info(`no subscriber for (${h}) event of (${s}) component`),this.results[s][h]=i;return Promise.all(y).then(()=>{i=null})})},g.prototype.registerSubscribe=function(u){return new Promise((c,f)=>{for(component in u)if(u.hasOwnProperty(component))if(!this.subscribe[component])this.subscribe[component]={};else continue;c()}).then(()=>{let c={};for(component in u)if(u.hasOwnProperty(component)){let f=u[component];for(let m in f)if(f.hasOwnProperty(m)){let e=f[m];for(let t=0;t<e.length;t++){let r=e[t];c[component]||(c[component]={}),c[component][r.original]||(c[component][r.original]=[]),c[component][r.original].push(r),this.stat.subscribe[r.original]=0}}}return c}).then(c=>{for(let f in c)if(c.hasOwnProperty(f)){this.subscribe[f]||(this.subscribe[f]={});for(let m in c[f])if(c[f].hasOwnProperty(m))for(let e of c[f][m])this.subscribe[f][e.original]||(this.subscribe[f][e.original]=[]),this.subscribe[f][e.original].push(e)}c={}})},g.prototype.registerHandlers=function(u,c){this.handlers[c]||(this.handlers[c]={});for(let f in u)if(u.hasOwnProperty(f)){let m=u[f];this.handlers[c][f]=m,this.stat.handlers[m.original]=0}},g}});var et=I((Kt,tt)=>{tt.exports=function(){function g(u,c,f){this.data=u,this.template=c,this.isConvert=f}return g.prototype._getTag=function(u){return u.match(new RegExp("(?<=<)|([^/s]+)(?=>)","g"))[2]},g.prototype._bindReplace=function(u,c){for(let f in u)if(u.hasOwnProperty(f)){let m=new RegExp(`{{${f}}}`,"g");m&&(c=c.replace(m,`${u[f]}`))}return c},g.prototype._toElement=function(u,c){let f=document.createElement("template");return f.innerHTML=u,f.content.children[0]},g.prototype.createElement=function(){let u=this.template,c=this.data,f=this.isConvert;if(c){if(c instanceof Array){let m=typeof u=="string",e=m?this._getTag(u):u.tagName;u=m?u:u.outerHTML;let t=[];for(let r=0;r<c.length;r++){let a=c[r],s=this._bindReplace(a,u),h=this._toElement(s,e);f&&(h=h.outerHTML),t.push(h)}return t}else if(c instanceof Object){let m=typeof u=="string",e=m?this._getTag(u):u.tagName;u=m?u:u.outerHTML;let t=this._bindReplace(c,u),r=this._toElement(t,e);return f&&(r=r.outerHTML),r}}else{let e=typeof u=="string"?this._getTag(u):u.tagName;return this._toElement(u,e)}},g}});var nt=I((zt,it)=>{it.exports=class{constructor(g=[],u){this.html=u||document,this.cf=g,this.duration=300}animate(g){return this.config=this.parse(this.cf),new Promise(u=>{for(let c=0;c<this.config.length;c++){let f=this.config[c],{element:m}=f;if(!f[g]){u();break}let e=f[g];if(!e.options&&!(e.options&&e.options.duration)&&(e.options={duration:this.duration}),!e.keyframes&&!m)continue;let t=e.keyframes,r=0,a=[];for(let h=0;h<t.length;h++){let p=t[h];switch(!0){case typeof p=="string":a.push(this.dic(p));break;case p instanceof Object:{let{name:d,offset:n}=p;if(d&&n){let i=this.dic(d);i[i.length-1].offset=n,a.push(i)}else a.push(p)}}}t=a,a=null;let s=()=>{let h=t[r];m.animate(h,e.options||this.duration).finished.then(()=>{r<t.length-1?(r+=1,s()):(t=[],u())})};s()}})}parse(g){let u=[],c=g.length,f=-1;for(;++f<c;){let m=g[f],e=m.selector,t;switch(!0){case!!(e.val&&e.attr):t=this.html.querySelectorIncluded(`[${e.attr}=${e.val}]`,e.attr,e.val);break;case!!(e.val&&!e.attr):{let r=e.val.match(new RegExp("^[.]"))?"class":e.val.match(new RegExp("^[#]"))?"id":null,a=r?e.val.slice(1):null;t=this.html.querySelectorIncluded(e.val,r,a)}break}m.element=t,u.push(m)}return u}dic(g){return{slideOutUp:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"},{transform:"translate3d(0,100%,0)",visibility:"hidden",opacity:"0"}],slideOutRight:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"},{transform:"translate3d(100%,0,0)",visibility:"hidden",opacity:"0"}],slideOutLeft:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"},{transform:"translate3d(-100%,0,0)",visibility:"hidden",opacity:"0"}],slideOutDown:[{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"},{transform:"translate3d(0,-100%,0)",visibility:"hidden",opacity:"0"}],slideInUp:[{transform:"translate3d(0,100%,0)",visibility:"hidden",opacity:"0"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"}],slideInRight:[{transform:"translate3d(100%,0,0)",visibility:"hidden",opacity:"0"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"}],slideInLeft:[{transform:"translate3d(-100%,0,0)",visibility:"hidden",opacity:"0",easing:"ease-out"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"}],slideInDown:[{transform:"translate3d(0,-100%,0)",visibility:"hidden",opacity:"0"},{transform:"translate3d(0,0,0)",visibility:"visible",opacity:"1"}],disappear:[{opacity:"1"},{opacity:"0"}],appear:[{opacity:"0"},{opacity:"1"}],flipInX:[,{offset:0,backfaceVisibility:"visible"},{transform:"perspective(400px) rotate3d(1,0,0,90deg)",opacity:"0",offset:0},{transform:"perspective(400px) rotate3d(1,0,0,-20deg)",offset:.4,easing:"ease-in"},{offset:.6,opacity:"1",transform:"perspective(400px) rotate3d(1,0,0,10deg)"},{transform:"perspective(400px) rotate3d(1,0,0,-5deg)",offset:.8},{offset:1,backfaceVisibility:"visible",transform:"perspective(400px) rotate3d(1,0,0,0)"}]}[g.trim()]||[]}}});var st=I((Xt,rt)=>{rt.exports=function(g){let u=g.StorageKit;return class{constructor(){this.storage=new u({child:"array",storage:"session",name:"_cake_persistent"})}listen(c){window.addEventListener("DOMContentLoaded",f=>{setTimeout(()=>{this.storage.getAll().then(m=>{if(!(m&&!m.length))for(let e=0;e<m.length;e++){let t=m[e],r=c[t];r.isConnected=!1,r?!r.isConnected&&r.render.bind(r)():console.error(`component ${r} is not found!`)}})})})}append(c){this.storage.create(c)}remove(c){this.storage.remove(c)}}}});var ot=I((Gt,lt)=>{lt.exports=class{constructor(g){this.Components=g}listen(){window.addEventListener("hashchange",g=>{let u=this.compare(g);this.find(u,this.notify)})}compare(g){let{oldURL:u,newURL:c}=g,f=null;if(u.length>c.length){let m=new URL(u).hash.substring(1).split("/"),e=new URL(c).hash.substring(1).split("/");for(let t=0;t<m.length;t++)if(!e.includes(m[t])){f=m[t];break}}return f}find(g,u){if(!!g)if(this.Components[g])this.Components[g].isConnected&&u(this.Components[g]);else{let c=setInterval(()=>{this.Components[g]&&(this.Components[g].isConnected&&u(this.Components[g]),clearTimeout(c))},50);setTimeout(()=>{clearTimeout(c)},5e3)}}notify(g){g.fire.destroy()}add(g){let u=location.hash;u.includes(g)||(location.hash=u+"/"+g)}remove(g){let c=location.hash.replace(g,"");location.replace(c)}}});var ct=I((Yt,at)=>{at.exports=function(g,u){let c=[];return class{constructor(f){this.route=this.compile(f),this.prev=null,this.components=g,this.watch(),this.persist(),Object.defineProperty(u.prototype,"$router",{configurable:!0,get:()=>({goTo:this.goTo,...this.prev}),set(m){}})}goTo(f,m){if(m){let e="";for(let t in m)e+=`${t}=${m[t]}&`;m=e,window.location.hash=`!/${f}?${m}`}else window.location.hash=`!/${f}`}persist(){document.hasRouterPersist||(document.addEventListener("DOMContentLoaded",f=>{this.navigate(!0)}),document.hasRouterPersist=!0)}watch(){window.hasRouterPop||(window.onpopstate=f=>{this.clear().then(()=>{this.navigate()})},window.hasRouterPop=!0)}compile(f){let m={};for(let e in f){let t=e.length,r=String(e);r=r.slice(1),r=r.split("/"),r=r.map((a,s)=>{let h=a.includes(":"),p="";if(s==0?p+="^/":p+="/",h?p+="(([^/#?]+?))":p+=a,s==t-1?p+="/?$":p+="",h){let d=a.replace(":","");m[e]||(m[e]={}),m[e].params={[d]:s}}return p}),m[e]&&m[e].params?m[e]={params:m[e].params,regex:new RegExp(r.join("")),...f[e]}:m[e]={regex:new RegExp(r.join("")),...f[e]}}return m.length=Object.keys(f).length,m.keys=Object.keys(f),m}navigate(f){let m=window.location.hash,e;if(m?(e=m.includes("#!/")?2:m.includes("#/")?1:null,m=m.slice(e)):(m="/",e=!0),!e)return;let t=new URL(`http://localhost${m}`),{search:r,pathname:a}=t,s=this.route.keys,h={};r&&new URLSearchParams(r).forEach((p,d)=>{h[d]=p});for(let p=0;p<s.length;p++){let d=this.route[s[p]],{regex:n,components:i,params:y,name:v}=d;if(y){let S=String(a);S=S.slice(1),S=S.split("/"),Object.entries(y).forEach(w=>{let[_,O]=w;S[O]&&(h[_]=S[O])})}let b=n.test(a);if(console.log(147,b,a),b){this.prev={components:i,state:h,path:a,name:v};break}}if(this.prev){let{components:p,state:d,path:n,name:i}=this.prev;try{return Promise.all(f?[Promise.resolve()]:c.map(y=>y())).then(()=>{if(p.length)return Promise.all(p.map(y=>this.components[y].render({emit:{data:this.prev}})))})}catch{throw new Error(`some of the component in ${JSON.stringify(p)} in path ${n} of router is not found, make sure the it is created`)}}}static pushState(f,m,e){window.history.pushState(f,m,e);let t=Promise.resolve();if(this.prev){let{components:r,state:a,path:s,name:h}=this.prev;t=Promise.all(r.map(p=>g[p].fire.destroy()))}return t.then(()=>this.navigate())}clear(){let f=Promise.resolve();if(this.prev){let{components:m,state:e,path:t,name:r}=this.prev;f=Promise.all(m.map(a=>g[a].fire.destroy?g[a].fire.destroy():(console.error(`there is no destroy handler in "${a}" component`),Promise.resolve())))}return f}pushState(f,m,e){window.history.pushState(f,m,e);let t=Promise.resolve();return this.clear(),t.then(()=>this.navigate())}static subscribe(f){f&&f.constructor.name=="Function"&&c.push(f)}}}});var ft=I((Qt,ht)=>{ht.exports=function(){let g=this;this.$form={},this.$form.options=(u,c)=>{let{options:f,params:m}=u;return f||(f=[]),Promise.all(f.map(t=>{let{control:r,field:a,tbl:s,src:h,schema:p}=t;return g.fire(h,{tbl:s,field:a,params:m}).then(d=>{d=d||[],t.query=d,d=d.map(i=>p(i));let n=p({});for(let i in n)n.hasOwnProperty(i)&&(n[i]="");return d.unshift(n),t.options=d,t})})).then(t=>c?t.reduce((r,a)=>{let{type:s,control:h}=a;return s||(s="select"),r[s]||(r[s]={}),r[s][h]||(r[s][h]=a),r},{}):t.reduce((r,a)=>(r[a.control]=a.options,r),{})).catch(t=>{console.error(t)})},this.$form.plot=u=>{let{data:c,container:f}=u;if(!c&&!f)return;let m=(e,t,r)=>{if(!e){console.info("root is not provided!");return}let a=e.querySelectorAll(`${t}`),s=a.length;if(!s){r(null,c);return}for(let h=0;h<s;h++){let p=a[h],d=p.name,n=c[d],i=r(p,n,h);if(i=="break")break;i!="continue"}};return m(f,"INPUT.input",function(e,t){t!=null&&(e.type=="date"&&(t=new Date(t)=="Invalid Date"?"":new Date(t).toJSON().split("T")[0]),e.value=t)}),setTimeout(()=>{m(f,"SELECT.input:not(.cake-template)",function(e,t){m(e,"OPTION:not(.cake-template)",function(r,a,s){if(r){if(r.value==t)return e.selectedIndex=s,"break"}else console.log(r,a,"provide schema")})})},500),Promise.resolve()}}});var pt=I((Zt,ut)=>{ut.exports=function(g){let u=g.StorageKit,c={};class f{constructor(e){this.name=e,this.reactiveData={},this.notify=[],this.install(this.name),this.pKeys={},this.sanitize=function(t){let r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},a=/[&<>"'/]/ig;return typeof t=="string"?t.replace(a,s=>r[s]||""):t}}registerNotifier(e){this.notify.push(e)}install(e){this.session=new u({child:"object",storage:"session",name:"_cake_scope_cf"}),this.memory=new u({child:"object",storage:"object",name:"_cake_scope_cf"})}notifier(e,t){let{value:r,bind:a}=t;return this.reactiveData[e]||(this.reactiveData[e]={}),this.reactiveData[e][a]=r,this.set(a,r)}getInputData(e="json",t){let r=t||this.name;console.log(this.reactiveData);let a=JSON.parse(JSON.stringify(this.reactiveData[r]));for(let s in a){let h=a[s];a[s]=this.sanitize(h)}if(e=="json")return a;if(e=="formdata"){let s=new FormData;for(let h in a){let p=a[h];s.append(h,p)}return s}}hook(e,t,r){c[e]||(c[e]={}),c[e][t]||(c[e][t]=[]),c[e][t].push(r)}get(e,t=!1){let r=this.pKeys[e];return r?t?this.memory.get(r):this.session.get(r):Promise.reject(`${e} is not found`)}set(e,t){let r=`${this.name}-${e}`,a=this.notify,s=this.name,h=null;return this.pKeys[e]=r,new Promise(async(p,d)=>{h=await this.get(e,!0),e!="password"&&this.session.createOrUpdate(r,t),p()}).then(()=>{this.memory.createOrUpdate(r,t);let p=c[this.name];if(p){let d=p[e];d&&d.forEach(n=>{n(t)})}return Promise.all(a.map(d=>d(e,t,h,s)))})}}return f}});var gt=I((Vt,dt)=>{dt.exports=function(g){let u=g.StorageKit,c=g.Templating,f=g.Utils;function m(){this.uiid=0,this.notify={},this.st={},this.cacheStatic=[],this.store=new u({child:"object",storage:"session",name:"_cake_component_cf"})}return m.prototype._getConfig=function(e,t,r,a,s){if(r==null)return[];if(r==a&&e!="bind")return[];let h=`${e}-${t}-${s}`,p=Object.cache._getConfig;if(p||(p=Object.cache._getConfig={}),!p[h]){var d=s?(()=>{let n=this.st[s]&&this.st[s][e];return n&&n.length?n.filter(i=>{let{bind:y}=i||{bind:!1};return y==t||!1}):[]})():(()=>{let n=[];for(let i in this.st)if(this.st.hasOwnProperty(i)){let y=this.st[i];if(y[e])for(let v=0;v<y[e].length;v++){let b=y[e][v];b.bind==t&&n.push({...b,component:i})}}return n})();p[h]=d}return p[h]},m.prototype._notifyToggle=function(e,t,r,a,s){s=s||document;let h=this._getConfig("toggle",e,t,r);if(!!h){s=s||document;for(let p=0;p<h.length;p++){let d=h[p];if(!d)continue;let{sel:n,bind:i,value:y,ops:v}=d,b=s.querySelector(`[data-toggle=${n}]`);y==r&&b&&b.classList.remove("is-active"),y==t&&b&&(b.classList.contains("is-active")&&b.classList.remove("is-active"),b&&b.classList.add("is-active"))}}},m.prototype._notifySwitch=function(e,t,r,a,s){s=s||document;let h=this._getConfig("switch",e,t,r,a);if(!h.length)return;let p={};for(let d=0;d<h.length;d++){let n=h[d],{bind:i,sel:y,map:v,cases:b}=n,S=s.querySelectorAll(`[data-switch-slot=${y}]`);for(let w=0;w<t.length;w++){let _=t[w],O=S[w],k=_[v];if(k!=null){let T=null;for(let E=0;E<b.length;E++)if(b[E].bind.includes(k)){T=b[E];break}if(T){let{_id:E,bind:P}=T,$=document.querySelector(`[data-case=${y}-${E}]`);if($&&$.toString().includes("Element")){$=$.cloneNode(!0);let L=$.querySelectorAll("[data-for-auto=true]");for(let C=0;C<L.length;C++){let j=L[C];j.dataset.for=`${j.dataset.for}-active`}$.removeAttribute("data-case");let A=new c(_,$,!1).createElement();if($.dataset.if){let C=$.dataset.if,j=A.dataset.ifBind,N=n.component,{bind:q}=this.getWatchItemsBySel(N,"if",C);C&&(p[q]||(p[q]={}),p[q][j]=_)}A.classList.remove("cake-template"),O.replaceWith(A)}}}}}for(let d in p)p.hasOwnProperty(d)&&this._notifyIf(d,p[d])},m.prototype._notifyBind=function(e,t,r,a,s){s=s||document;let h=this._getConfig("bind",e,t,r,a);if(!!h.length)for(let p=0;p<h.length;p++){let d=h[p],{attr:n,bind:i,sel:y}=d,v=n.toHyphen();if(e==i){let b=s.querySelectorAll(`[data-bind=${y}]`);for(let S=0;S<b.length;S++){let w=b[S];n=="class"||n=="className"?w.classList.length?(f.loopStringSplitSpace(r,function(_){w.classList.remove(_)}),f.loopStringSplitSpace(t,function(_){w.classList.add(_)})):f.loopStringSplitSpace(t,function(_){w.classList.add(_)}):(w.setAttribute(v,t),w[n]=t)}}}},m.prototype._notifyInput=function(e,t,r,a,s){s=s||document;let h=this._getConfig("input",e,t,r,a);if(!!h.length)for(let p=0;p<h.length;p++){let d=h[p],{attr:n,bind:i,sel:y}=d,v=n.toHyphen();if(e==i){let b=s.querySelectorAll(`[data-input=${y}]`);for(let S=0;S<b.length;S++){let w=b[S];n=="className"?r?t?w.classList.replace(r,t):w.classList.remove(r):w.classList.add(t):(w.setAttribute(v,t),w[n]=t)}}}},m.prototype._notifyFor=function(e,t,r,a,s){let h=this._getConfig("for",e,t,r,a);if(!h.length)return;let p=[];for(let d=0;d<h.length;d++){let{bind:n,sel:i,iter:y,ins:v,component:b,cleaned:S}=h[d];s=s||document,b&&(s=Cake.Components[b].html);let w=s.querySelectorIncluded(`[data-for-template=${i}]`),_=w.cloneNode(!0);(()=>{let O=_&&_.querySelectorAll("[data-switch]");if(O&&O.length){let k=O.length,T=-1;for(;++T<k;){let E=O[T],P=E.parentElement,$=document.createElement("div");$.dataset.switchSlot=E.dataset.switch,P.replaceChild($,E)}O=null}})(),(()=>{let O=_,k=-1;l=t.length,t=t.map(T=>{for(let E in T)T.hasOwnProperty(E)&&(T[`${y}.${E}`]=T[E]);return T}),t.forEach(T=>{let E=new c(T,O,!1).createElement();E.style.removeProperty("display"),E.classList.remove("cake-template"),E.removeAttribute("data-for-template"),w.insertAdjacentElement("beforebegin",E);let P=E.querySelectorAll("[data-src]");if(P)for(let $=0;$<P.length;$++){let L=P[$];L.src=L.dataset.src,L.removeAttribute("data-src")}}),S&&w.remove()})()}this._notifyForAuto({configs:h,newValue:t})},m.prototype._notifyForAuto=function(e){let{vItems:t,configs:r,newValue:a}=e;for(let s=0;s<r.length;s++){let h=r[s],p=h.children;if(!p)continue;let d=[];for(let n=0;n<p.length;n++){let i=p[n];if(!this.st[h.component])continue;let y=this.st[h.component].for.find(v=>v.sel==i);y&&d.push(new Promise(v=>{let{bind:b,sel:S,iter:w,ins:_}=y;setTimeout(()=>{let O=document.querySelectorAll(`[data-for=${S}-active]`);for(let k=0;k<O.length;k++){let T=O[k],E=T.dataset.forBindKey,P=T.dataset.forBindVal,$=a.find(C=>C[E]==P),L=b.split(".")[b.split(".").length-1],A=$[L].length&&$[L].map(C=>C instanceof Object?C:{[w]:C});if(A)for(let C=0;C<A.length;C++){let j=A[C],N=T.cloneNode(!0),q=new c(j,N,!1).createElement();q.style.removeProperty("display"),q.classList.remove("cake-template"),q.removeAttribute("data-for-template"),fragment.append(q),T.insertAdjacentElement("beforebegin",q)}T.parentElement.tagName=="SELECT"&&(T.parentElement.selectedIndex=0)}})}))}}},m.prototype._notifyForUpdate=function(e,t,r,a,s){s=s||document;let h=this._getConfig("forUpdate",e,t,r,a);if(!!h.length)for(let p=0;p<h.length;p++){let{bind:d,sel:n,iter:i,ins:y}=h[p];for(let v in t)if(t.hasOwnProperty(v)){let b=document.querySelectorAll(`[data-for-bind-val=${v}]`);for(let S=0;S<b.length;S++){let w=b[S],_=w.dataset.forBindVal;if(!w.dataset.forTemplate)w.remove();else{let O=w.cloneNode(!0);O.style.removeProperty("display"),O.classList.remove("cake-template");let k=t[_],T=-1;for(l=k.length;++T<l;){let E=k[T],P=new c(E,O,!1).createElement();P.classList.remove("cake-template"),P.removeAttribute("data-for-template"),w.insertAdjacentElement("beforebegin",P),w.parentElement.tagName=="SELECT"&&(w.parentElement.selectedIndex=0)}}}}}},m.prototype._notifyClass=function(e,t,r,a,s){s=s||document;let h=this._getConfig("class",e,t,r,a);if(!h.length)return;let p=function(n){return n.split(" ").join("")},d={};for(let n=0;n<h.length;n++){let i=h[n],{hasNegate:y,bind:v,testVal:b,className:S,ops:w,sel:_}=i;if(v=p(v),e==v){d[_]||(d[_]=s.querySelectorAll(`[data-class=${_}]:not(.cake-template)`));let O=d[_];for(let k=0;k<O.length;k++){let T=O[k],E=!1;w?(E=f.logTest(t,w,b),y&&(E=!E)):y?E=!t:E=!!t,E?f.loopStringSplitSpace(S,function(P){T.classList.contains(P)||T.classList.add(P)}):f.loopStringSplitSpace(S,function(P){T.classList.contains(P)&&T.classList.remove(P)})}}}},m.prototype._notifyAttr=function(e,t,r,a,s){s=s||document;let h=this._getConfig("attr",e,t,r,a);if(!h.length)return;let p=function(n){return n&&n.split(" ").join("")},d={};for(let n=0;n<h.length;n++){let i=h[n],{hasNegate:y,bind:v,testVal:b,attr:S,ops:w,sel:_,attrkey:O,attrvalue:k}=i;if(v=p(v),S=p(S),e==v){d[_]||(d[_]=s.querySelectorAll(`[data-attr=${_}]:not(.cake-template)`));let T=d[_];for(let E=0;E<T.length;E++){let P=T[E],$=!1;w?($=f.logTest(t,w,b),y&&($=!$)):y?$=!t:$=!!t,$?P.removeAttribute(O):k&&P.setAttribute(O,k)}}}},m.prototype._notifyIf=function(e,t,r,a,s){s=s||document;let h=this._getConfig("if",e,t,r,a);if(!h.length)return;let p={};for(let d=0;d<h.length;d++){let n=h[d],{attr:i,bind:y,sel:v,testval:b,_true:S,_false:w,ops:_,hasNegate:O}=n,k=i.toHyphen(),T=S!="null",E=w!="null";if(e==y){p[v]||(p[v]=s.querySelectorAll(`[data-if=${v}]:not(.cake-template)`));let P=p[v];for(let $=0;$<P.length;$++){let L=P[$],A=t,C;if(b?C=f.logTest(b,_,A):C=O?!A:!!A,C){if(T)if(i=="class"){let j=S.split(" ");E?(w.split(" ").forEach(q=>{L.classList.remove(q)}),j.forEach(q=>{L.classList.add(q)})):j.forEach(N=>{L.classList.contains(N)||L.classList.add(N)})}else L.setAttribute(i,S)}else if(E)if(i=="class"){let j=w.split(" ");T?(S.split(" ").forEach(q=>{L.classList.remove(q)}),j.forEach(q=>{L.classList.add(q)})):trueClasses.forEach(N=>{L.classList.contains(N)||L.classList.add(N)})}else L.setAttribute(i,w)}}}},m.prototype.notifier=function(e,t,r,a){let s=t;return f.isObject(s)&&(s=JSON.parse(JSON.stringify(t))),new Promise(h=>{this._notifyFor(e,s,r,a),h()}).then(()=>this._notifyForUpdate(e,s,r,a)).then(()=>this._notifySwitch(e,s,r,a)).then(()=>this._notifyToggle(e,s,r,a)).then(()=>this._notifyBind(e,s,r,a)).then(()=>this._notifyInput(e,s,r,a)).then(()=>this._notifyIf(e,s,r,a)).then(()=>this._notifyClass(e,s,r,a)).then(()=>this._notifyAttr(e,s,r,a))},m.prototype.registerNotifier=function(e,t){this.notify[e]||(this.notify[e]=[]),this.notify[e].push(t)},m.prototype.getEventTarget=function(e){let t=`${e}`,r=Object.cache.getEventTarget;if(r||(r=Object.cache.getEventTarget={}),!r[t]){let a=this.st[e];r[t]=a&&(a?.evt??[])||[]}return r[t]},m.prototype.getRouterTarget=function(e){let t=`${e}`,r=Object.cache.getRouterTarget;if(r||(r=Object.cache.getRouterTarget={}),!r[t]){let a=this.st[e];r[t]=a&&(a?.router??[])||[]}return r[t]},m.prototype.getWatchItems=function(e){let t=`${e}`,r=Object.cache.getWatchItems;if(r||(r=Object.cache.getWatchItems={}),!r[t]){let a=this.st[e]||{},s=new Set;for(let h in a)if(a.hasOwnProperty(h)){let p=a[h];for(let d=0;d<p.length;d++){let n=p[d],{bind:i}=n;if(i)s.add(i);else continue}}r[t]=[...s]}return r[t]},m.prototype.getWatchItemsByType=function(e,t){let r=`${e}-${t}`,a=Object.cache.getWatchItemsByType;if(a||(a=Object.cache.getWatchItemsByType={}),!a[r]){let h=(this.st[e]||{})[t]||[],p=new Set;for(let d=0;d<h.length;d++){let n=h[d],{bind:i}=n;switch(!!i){case!0:p.add(i);break;default:switch(!0){case(t=="animate"||t=="toggle"):(p.constructor.name="Set")&&(p=[]),p.push(n)}}}a[r]=[...p]}return a[r]},m.prototype.getWatchItemsBySel=function(e,t,r){let a=`${e}-${t}-${r}`,s=Object.cache.watchItemsBySel;if(s||(s=Object.cache.watchItemsBySel={}),!s[a]){let p=this.st[e][t].find(d=>d.sel==r);s[a]=p||!1}return s[a]},m.prototype._activateReactive=e=>{},m.prototype._register=function(e,t,r,a){switch(!0){case!e[t]:e[t]={};case!e[t][r]:e[t][r]=[];default:e[t][r].push(a);break}},m.prototype._static=function(e){return function(t,r){let a=[];for(let s=0;s<t.length;s++){let h=t[s];switch(r){case!1:a.push(h);break;case!0:{let p=h.closest("[data-component]");switch(p=p&&p.dataset.component,p==e){case!0:a.push(h);break}}break;default:continue}}return a}},m.prototype._compileEvents=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let h=0;h<s.length;h++){let p=`cke${this.uiid}`,d=s[h],n=d.dataset.event.split(" ").join("").split(",");for(let i=0;i<n.length;i++){let[y,v]=n[i].split(":");v=v||y,this._register(this.st,t,"evt",{event:y,sel:p,cb:v}),d.dataset.event=p,this.uiid++}}a()})},m.prototype._compileToggle=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}if(!this._static(t)(e,r).length){a();return}let h={};for(let p=0;p<e.length;p++){let d=`ckt${this.uiid}`,n=e[p],i=n.dataset.toggle;h[i]&&(d=h[i]),this._register(this.st,t,"toggle",{sel:d,name:"ns-"+i}),n.dataset.toggle=d,this.uiid++,h[i]=d}h={},a()})},m.prototype._compileFor=function(e,t,r,a){return new Promise(s=>{let h=a;if(!e.length){s();return}let p=this._static(t)(e,r);if(!p.length){s();return}let d={};for(let n=0;n<p.length;n++){let i=`ckf${this.uiid}`,y=p[n],v=y.dataset.for,b=y.dataset.forCleaned=="true",[S,w,_]=v.split(" ");if(y.style.display="none",y.classList.add("cake-template"),y.dataset.for=i,y.dataset.forTemplate=i,d[i]={bind:_,sel:i,iter:S,ins:w,cleaned:b},++this.uiid,n!=0){let O=y.parentElement&&y.parentElement.closest("[data-for]");if(!O)continue;let k=!!O.dataset.for;if(h.contains(O)&&k){let T=O.dataset.for,E=d[T];E&&!E.children?E.children=[i]:E&&E.children.push(i)}}}for(let n in d)d.hasOwnProperty(n)&&this._register(this.st,t,"for",d[n]);s()})},m.prototype._compileForUpdate=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let h=0;h<s.length;h++){let p=`ckfu${this.uiid}`,d=s[h],n=d.dataset.forUpdate;d.style.display="none",d.classList.add("cake-template"),d.dataset.forUpdate=p,d.dataset.for||(d.dataset.forTemplate=p);let[i,y,v]=n.split(" ");this._register(this.st,t,"forUpdate",{bind:v,sel:p,iter:i,ins:y}),this.uiid++}a()})},m.prototype._compileSwitch=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let d=0;d<s.length;d++){let n=`cks${this.uiid}`,i=s[d],y=i.dataset.switch,v="def";if(y.includes(".")){var[h,...p]=i.dataset.switch.split(".");y=h,v=p[0]}i.dataset.switch=n;let b=i.querySelectorAll("[data-case]"),S=[];for(let w=0;w<b.length;w++){let _=b[w],O=_.closest(`[data-switch=${n}]`);if(_.classList.add("cake-template"),O){let k=_.dataset.case,T=`cksc${this.uiid}`;_.dataset.case=`${n}-${T}`,S.push({_id:T,bind:k}),this.uiid++}}this._register(this.st,t,"switch",{bind:y,sel:n,map:v,cases:S}),this.uiid++}a()})},m.prototype._compileBind=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let d=0;d<s.length;d++){let n=`ckm${this.uiid}`,i=s[d],v=i.dataset.bind.split(",");for(let b=0;b<v.length;b++){let S=v[b].split(" ").join("");if(S.includes(":"))var[h,p]=S.split(":");else var p=S,h="value";this._register(this.st,t,"bind",{attr:h,bind:p,sel:n})}this.uiid++,i.dataset.bind=n}a()})},m.prototype._compileAnimate=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let h=0;h<s.length;h++){let p=`cka${this.uiid}`,d=s[h],n=d.dataset.animate;n=n.split(" ").join("");let i={},y=n.split(",");for(let v=0;v<y.length;v++){let b=y[v],[S,w]=b.split(":");if(S=="ns"){i.ns=w;break}else i[S]={keyframes:w.split("-")}}i.selector={attr:"data-animate",val:p},this._register(this.st,t,"animate",i),this.uiid++,d.dataset.animate=p}a()})},m.prototype._compileIf=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}let h=new RegExp("<|>|===|==|!==|!=");for(let p=0;p<s.length;p++){let d=`ci${this.uiid}`,n=s[p],y=n.dataset.if.split(",");for(let v=0;v<y.length;v++){let b=y[v],S=b.substring(0,b.indexOf("=")),w=b.substring(b.indexOf("=")+1,b.length);w=w.split(new RegExp("[()]")).join("");let[_,O]=w.split("?"),k=_[0]=="!";hasRegularLog=_.match(h);let T,E,P;if(hasRegularLog){let A=_.split(h);T=A[0].trim(),E=A[1].trim(),P=hasRegularLog[0]}else T=_;k&&(T=T.slice(1));let[$,L]=O.split(":");this._register(this.st,t,"if",{hasNegate:k,attr:S,ops:P,bind:T,testval:E||null,_true:$,_false:L,sel:d})}this.uiid++,n.dataset.if=d}a()})},m.prototype._compileClass=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}let h=new RegExp("<|>|===|==|!==|!=");for(let p=0;p<s.length;p++){let d,n,i,y,v,b,S,w;d=`cc${this.uiid}`,n=s[p],i=n.dataset.class;let[_,O]=i.split("&&");if(_=_.trim(),O=O.trim(),y=_.match(h),v=_[0]=="!",y){let k=_.split(h);bind=k[0],w=k[1],S=y[0]}else bind=_;v&&v&&(bind=bind.slice(1)),this._register(this.st,t,"class",{hasNegate:v,bind,testVal:w,className:O,ops:S,sel:d}),this.uiid++,n.dataset.class=d}a()})},m.prototype._compileAttr=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}let h=new RegExp("<|>|===|==|!==|!=");for(let p=0;p<s.length;p++){let d,n,i,y,v,b,S,w;d=`cre${this.uiid}`,n=s[p],i=n.dataset.attr;let[_,O]=i.split("&&");O=O.trim();let[k,T]=O.split("=");if(_=_.trim(),y=_.match(h),v=_[0]=="!",y){let E=_.split(h);bind=E[0],w=E[1],S=y[0]}else bind=_;v&&v&&(bind=bind.slice(1)),this._register(this.st,t,"attr",{hasNegate:v,bind,testVal:w,attrkey:k,attrvalue:T,ops:S,sel:d}),this.uiid++,n.dataset.attr=d}a()})},m.prototype._compileRouter=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let h=0;h<s.length;h++){let p=`rt${this.uiid}`,d=s[h],n=d.dataset.routerLink;this._register(this.st,t,"router",{value:n,sel:p}),this.uiid++,d.dataset.routerLink=p}a()})},m.prototype._compileInput=function(e,t,r){return new Promise(a=>{if(!e.length){a();return}let s=this._static(t)(e,r);if(!s.length){a();return}for(let d=0;d<s.length;d++){let n=`cknt${this.uiid}`,i=s[d],y=i.tagName,b=i.dataset.input.split(",");for(let S=0;S<b.length;S++){let w=b[S].split(" ").join("");if(w.includes(":"))var[h,p]=w.split(":");else var p=w,h="value";this._register(this.st,t,"input",{attr:h,bind:p,sel:n,nodeType:y})}this.uiid++,i.dataset.input=n}a()})},m.prototype.inject=function(e,t,r=!1){return new Promise(a=>{let s=e.getElementsByDataset("bind","for","for-update","switch","toggle","event","animate","if","class","input","attr");a(s)}).then(a=>{let s=[],h={bind:this._compileBind,for:this._compileFor,"for-update":this._compileForUpdate,switch:this._compileSwitch,toggle:this._compileToggle,event:this._compileEvents,animate:this._compileAnimate,if:this._compileIf,class:this._compileClass,input:this._compileInput,attr:this._compileAttr};for(let p in a)a.hasOwnProperty(p)&&a[p].length&&s.push(h[p].apply(this,[a[p],t,r,e]));return console.timeEnd(t),s.length?Promise.all(s):Promise.resolve()}).then(()=>Promise.resolve())},m}});var yt=I((te,mt)=>{mt.exports=function(g){let u=g.Mo,c=g.Templating,f=g.Piece,m=g.Utils,e=g.pushState;function t(r,a,s){this.name=r,this.template=a,this.options=s,this.handlers=s.handlers,this.subscribe=s.subscribe,this.data={},this.root=s.root,this.items=!1,this.type=s.type||"view",this.toggle=s.toggle,this.targets={},this.animateOptions=s.animate,this.role=s.role,this.isReady=!1,this.await={},this.utils=m,(r=="app"||s.role=="app")&&(this.staticComponent=s.static||[]),this.container={},this.compile=new Promise(h=>{this._bindHandlers(),h()}).then(()=>{this._bindSubscribe()}).then(()=>{switch(this.type=="view"&&!!this.template){case!0:return this.createElementAsync();default:this.isStatic=!1;break}})}return t.prototype.isStatic=!1,t.prototype.hasEvent=!1,t.prototype.isConnected=!1,t.prototype.destroyed=!1,t.prototype.isCreated=!1,t.prototype.Subscribe=function(r){this.$observer.registerSubscribe({[r.listenTo]:{[r.original]:[r]}})},t.prototype.Node=function(r){return new f(r)},t.prototype._bindHandlers=function(){for(let r in this.handlers)if(this.handlers.hasOwnProperty(r)){let a=this.handlers[r],s=a.name;a=a.bind(this),a.original=s,a.binded=this.name,this.handlers[s]=a,this.initAwaitHandlers(r)}this.await.destroy||(this.await.destroy=Promise.resolve()),this.await.animateRemove||(this.await.animateRemove=Promise.resolve())},t.prototype.initAwaitHandlers=function(r){this.await[r]=Promise.resolve()},t.prototype._bindSubscribe=function(){let r={};for(let a in this.subscribe)if(this.subscribe.hasOwnProperty(a))if(subscribe=this.subscribe[a],!!subscribe.components&&!!subscribe.handler){let h=a,{components:p,handler:d}=subscribe;d=d.bind(this),d.binded=this.name,d.original=h;for(let n=0;n<p.length;n++){let i=p[n];r[i]||(r[i]={}),r[i][h]||(r[i][h]=[]),d.listenTo=i,r[i][h].push(d)}}else{r[a]||(r[a]={});let h=subscribe;for(let p in h)if(h.hasOwnProperty(p)){let d=h[p],n=d.name;d=d.bind(this),d.original=n,d.binded=this.name,d.listenTo=a,r[a][n]||(r[a][n]=[]),r[a][n].push(d)}}this.subscribe=r},t.prototype.notifyStaticComponent=function(r,a,s){Cake.Observer.notify(r,a,s,this.staticComponent[r],!0,this.name)},t.prototype.doFor=function(r,a){let s=()=>this.html;a!=null&&this.$attrib._notifyFor(r,a,null,this.name,s())},t.prototype.doToggle=function(r,a){this.$attrib._notifyToggle(r,a,null,this.name,this.html)},t.prototype.doSwitch=function(r,a){this.$attrib._notifySwitch(r,a,null,this.name,this.html)},t.prototype.doIf=function(r,a){this.$attrib._notifyIf(r,a,null,this.name,this.html)},t.prototype.$animate=function(r){let a=this.$attrib.getWatchItemsByType(this.name,"animate"),s=this.animateOptions,h=[];return(()=>{if(!(!a.length&&!(a instanceof Array)||!s))for(let p=0;p<a.length;p++){let d=a[p],{ns:n,selector:i}=d;if(d.ns){if(s[n]){let y=s[n];Object.assign(d,s[n]),delete s[n]}}else h.push(a)}})(),a.length?((()=>{let p={},d={};for(let n in s)s.hasOwnProperty(n)&&(d.val=n,p.selector=d,Object.assign(p,s[n]),a.push(p),p={},d={})})(),new u(a,this.html).animate(r)):!1},t.prototype.$templating=function(r,a,s){let h=a||this.template;return new c(r,h,s).createElement()},t.prototype.createElement=function(){if(!(this.template.substring(0,1)=="#"))return;let a=this.template.substr(1),s=document.getElementById(a),h=this.isTemplate=s&&s.toString().includes("Template");if(!s)throw new Error(`the template for ${this.name} is not found with.`);return new Promise(p=>{switch(h){case!0:{let d=s.getContent(!0);if(!d)throw new Error(`it might be theres no template in component - ${this.name}`);d.cake_component=this.name,this.html=this.Node(d),this._parseHTML(this.isStatic).then(()=>{this._watchBindedItems(),p()})}break;case null:p();break;default:{let d=s;if(!d)throw new Error(`it might be theres no template in component - ${this.name}`);d.cake_component=this.name,this.html=this.Node(d),this.isStatic=!0,this._parseHTML(this.isStatic).then(()=>{p()})}}})},t.prototype.createElementAsync=function(){return new Promise(r=>{this.createElement().then(()=>{r()})}).then(()=>{this.isReady=!0})},t.prototype._isParsed=!1,t.prototype._parseHTML=function(r=!1){return this.$attrib.inject(this.html,this.name,r).then(()=>{this.original=this.html.cloneNode(),this._isParsed=!0})},t.prototype.render=function(r){let a=null,{root:s,multiple:h,cleaned:p,emit:d,static:n,hashed:i,data:y}=r||{},v=b=>this.data[b]||this.$scope[b]||null;return new Promise((b,S)=>{!!s&&(this.root=s),h&&this._smoothReset(),this.isReady?b():this.createElement().then(()=>{i===!0&&this.$hash.add(this.name),!this.template&&this.fire.isConnected&&this.fire.isConnected({emit:d},!0)}).then(()=>{this.isReady=!0,b()})}).then(()=>this.await.destroy.then(()=>this.await.animateRemove).then(()=>new Promise((b,S)=>{let w=this.$attrib.getWatchItemsByType(this.name,"for");for(let _=0;_<w.length;_++){let O=v(w[_]);this.doFor(w[_],O)}b(this.html)}).then(b=>(a={element:b,emit:d},this.fire.beforeConnected&&this.fire.beforeConnected(a,!0),b)).then(b=>{if(!this.isStatic)return(y?(()=>new Promise(w=>{let _=b.getElement();_=this.$templating(y,_),this.html=b=this.Node(_),this.html.replaceDataSrc(),y=null,w()}))():Promise.resolve()).then(()=>{b.appendTo(this.root,p),this.isConnected=!0})}).then(()=>this.findTarget()).then(()=>this.findContainer()).then(()=>{let b=this.$attrib.getWatchItemsByType(this.name,"switch");for(let S=0;S<b.length;S++)this.doSwitch(b[S],v(b[S]))}).then(()=>this.addEvent(n,h)).then(()=>this.fire.isConnected&&this.fire.isConnected(a,!0)).then(()=>this.$animate("render")).then(()=>new Promise((b,S)=>{setTimeout(()=>{this._watchReactive(),b()},100)}))))},t.prototype.renderAsync=function(r){this.render(r).then(()=>{this.$persist.append(this.name)})},t.prototype._smoothReset=function(){this.isConnected=!1,this.html=this.original.cloneNode()},t.prototype._hardReset=function(r){return this.isConnected=!1,this.$persist.remove(r),this.html=this.original.cloneNode(),!0},t.prototype.reset=function(){let r=this.$animate("remove");return r instanceof Promise?this.await.animateRemove=new Promise(a=>{r.then(()=>this.html.remove()).then(()=>this._hardReset(this.name)).then(()=>{a()})}):new Promise(a=>{this.html.remove(this.name),this._hardReset(this.name),a()})},t.prototype.addEvent=function(r,a){if(!!a&&!!r)return!1;let p=this.name;function d(n,i,y,v){return function(b){y&&b.preventDefault(),v&&b.stopPropagation(),Cake.Observer.notify(i,n,b)}}if(!!this.targets){for(let n in this.targets)if(this.targets.hasOwnProperty(n)){let i=this.targets[n];for(let y of i){let{sel:v,el:b,cb:S}=y;S=S||n,b.Ref().get("__cake__events")||b.Ref().set("__cake__events",{});let w=b.Ref().get("__cake__events");if(!w[S]){let _=n.substring(0,2),O=!_.includes("~"),k=_.includes("^");(!O||k)&&(n=n.slice(1)),b.addEventListener(n,d(S,p,O,k),!0),w[S]=!0,b.Ref().set("__cake__events",w)}}}}},t.prototype.findTarget=function(){let r=this.$attrib.getEventTarget(this.name),a=JSON.parse(JSON.stringify(r));for(let s of a)s.el=document.querySelector(`[data-event=${s.sel}]`),this.targets[s.event]||(this.targets[s.event]=[]),this.targets[s.event].push(s)},t.prototype.toggler=function(r){let a=this.$attrib.getWatchItemsByType(this.name,"toggle"),s=class{constructor(p,d,n,i){this.toggle=i.toggle,this.bind=p,this.bases=d,this.cache=i.$cache,this.html=n}check(p){let d=this.toggle[p];if(!d)console.error(`${p} is not found in toggle! choose from ${JSON.stringify(Object.keys(this.toggle))}`);else{if(a.length){let{ns:n}=d,i=a.find(y=>y.name==`ns-${n}`);i&&(d.sel=`[data-toggle=${i.sel}]`)}return d}}_toggle(){let p=this.check(this.bind);if(!p)return;let{basis:d="data-name",cls:n="is-active",mode:i="radio",sel:y,persist:v=!0}=p,b=this.html.querySelectorAll(y);if(!b.length)return;let S,w;if(b.length==1){let _=typeof this.bases=="boolean",O=!!this.bases,k=b[0];if(v){let T=function(E,P,$){$?E.classList.contains(P)&&E.classList.remove(P):E.classList.contains(P)||E.classList.add(P)};_?(O?(this.cache.createOrUpdate(this.bind,!0),T(k,n,!0)):(this.cache.createOrUpdate(this.bind,!1),T(k,n,!1)),k.classList.toggle(n)):(this.cache.createOrUpdate(this.bind,!k.classList.contains(n)),k.classList.toggle(n))}}else for(let _=0;_<b.length;_++){let O=b[_],k=O.classList.contains(n),T=O.getAttribute(d);T==this.bases?(i=="switch"?O.classList.toggle(n):k||O.classList.add(n),v&&this.cache.createOrUpdate(this.bind,T),w=T):k&&(O.classList.remove(n),S=O.getAttribute(d))}return{prev:S,next:w}}_recall(){let p=this.check(this.bind);if(!p)return;let{basis:d="data-name",cls:n="is-active",sel:i}=p;return this.cache.get(this.bind).then(y=>{if(!y)return y;let v=y,b=this.html.querySelectorAll(i);if(!!b.length){if(b.length==1){let S=b[0];v&&S.classList.add(n)}else for(let S=0;S<b.length;S++){let w=b[S],_=w.classList.contains(n);w.getAttribute(d)==v&&(_||w.classList.add(n))}return v}})}},h=(p,d)=>new s(p,d,this.html,this)._toggle();return h.recall=p=>new s(p,!1,this.html,this)._recall(),h},t.prototype.findContainer=function(){return new Promise(r=>{let a=this.html.getContainers();for(let s=0;s<a.length;s++){let h=a[s],p=h.dataset.container;p&&(this.container[p]=h)}r()})},t.prototype._watchBindedItems=function(){},t.prototype._watchReactive=function(){if(!this.items.length){this.items=this.$attrib.getWatchItems(this.name);let r=this.name,{input:a}=this.$attrib.st[r]||{input:!1},s=this.$attrib.notify[r];a&&a.forEach(h=>{let{attr:p,bind:d,sel:n,nodeType:i}=h,y=document.querySelector(`[data-input=${n}]`);y&&!y._reactive&&(i=="INPUT"||i=="TEXTAREA"?(s.forEach(v=>{v(r,{value:y.value,bind:d})}),y.addEventListener("input",v=>{s&&s.length&&s.forEach(b=>{b(r,{value:v.target.value,bind:d})})}),y.addEventListener("change",v=>{s&&s.length&&s.forEach(b=>{b(r,{value:v.target.value,bind:d})})})):i=="SELECT"&&((()=>{let{selectedOptions:v}=a,b=[];for(let S=0;S<v.length;S++){let w=v[S],_=w.text,O=w.value;b.push({text:_,value:O})}s&&s.length&&s.forEach(S=>{S(r,{value:b,bind:d})})})(),y.addEventListener("change",v=>{let{selectedOptions:b}=v.target,S=[];for(let w=0;w<b.length;w++){let _=b[w],O=_.text,k=_.value;S.push({text:O,value:k})}s&&s.length&&s.forEach(w=>{w(r,{value:S,bind:d})})})),y._reactive=!0)})}},t.prototype.observer=function(r){function a(s){return this.handler[s]}this.observer=new Observer(this,r,a.bind(this))},t.prototype.variable=function(r){let a=Object.keys(r),s={},h=[];function p(d,n,i){n||(s[d]=`value is not '${i}'`)}for(let d in r)if(r.hasOwnProperty(d)){let n=r[d],{type:i,value:y}=n,v;["string","number"].includes(i)?v=typeof y==i:y instanceof Array?v=i=="array":v=i=="object",h.push(y),p(d,v,i)}if(Object.keys(s).length)throw new Error(JSON.stringify(s));return h},t}});var vt=I((ee,bt)=>{bt.exports=function(g){let u=g.Attrib,c=g.Scope,f=g.Component,m=g.Hasher,e=g.Router,t=g.Persistent,r=g.StorageKit,a=g.Observer,s=g.Formy;function h(p){this.name=p,this.components={}}return h.Components=function(p){return{subscribe(d,n){function i(){let y=h.Components[p];if(y&&d instanceof Function){let v=d.name;n&&(d=d.bind(n)),d.binded="external",d.original=v,d.listenTo=y.name,y.Subscribe(d)}}return new Promise((y,v)=>{let b=setInterval(()=>{h.Components[p]&&(i(),clearInterval(b),y())})})}}},h.Models={},h.Subscribe={},h.Handlers={},h.Attributes=new u,h.Models.$loaded=function(p){return new Promise((d,n)=>{let i=setInterval(()=>{h.Models[p]&&(clearInterval(i),d(h.Models[p]))});setTimeout(()=>{h.Models[p]||(clearInterval(i),n(p))},1e4)})},h.MainMessageChannel=function(){let p=new MessageChannel;return{send(d){p.port2.postMessage(d)},receive(d){p.port1.onmessage=function(n){let{isTrusted:i,data:y}=n||{isTrusted:!1};d(i?{status:1,data:y}:{status:0,err:"not trusted!"})}}}}(),h.Utils={scopeTrap(p){return!1},scopeNotifier(p){return p}},h.create=function(p,d,n){new h(p,d,n).create(p,d,n)},h.plugin=function(){},h.init=function(p){return new f(p)},h.Hasher=new m(h.Components),h.Hasher.listen(),h.Router=e(h.Components,f),h.Persistent=new t,h.Persistent.listen(h.Components),h.Cache=new r({name:"cache",storage:"session",child:"object"}),h.getSubscriber=function(p,d){let n=h.Subscribe,i={};for(let y in n)if(n.hasOwnProperty(y)){let v=n[y];for(let b in v)if(v.hasOwnProperty(b)){let S=v[b];for(let w of S){let _=w,O=_.original,k=_.binded;if(_.listenTo==p){if(O==d)if(!i[k])i[k]=d;else{let E=i[k]instanceof Array?i[k]:[i[k]];i[k]=E.concat(d)}else if(!d)if(!i[k])i[k]=O;else{let E=i[k]instanceof Array?i[k]:[i[k]];i[k]=E.concat(O)}}}}}return i},h.Observer=new a(h.Subscribe,h.Handlers),h.prototype._defineProperty=function(p,d,n,i){Object.defineProperty(p,d,{configurable:!0,get(){return n()},set(y){i&&i(y)}})},h.prototype._defineProperty(f.prototype,"$observer",function(){return h.Observer}),h.prototype._defineProperty(f,"$globalScope",function(){return new c("globalScope")}),h.$universalScope=function(){return new c("universalScope")},h.prototype._defineProperty(f.prototype,"$attrib",function(){return h.Attributes}),h.prototype._defineProperty(f.prototype,"$persist",function(){return h.Persistent}),h.prototype._defineProperty(f.prototype,"$cache",function(){return h.Cache}),h.prototype._defineProperty(f.prototype,"$hash",function(){return h.Hasher}),h.prototype.create=function(p,d,n){console.time(p);let i=new f(p,d,n),y=new c(p);y.registerNotifier(function(v,b,S,w){return h.Attributes.notifier(v,b,S,w)}),h.Attributes.registerNotifier(p,function(v,b){y.notifier(v,b)}),i.compile.then(()=>{let{subscribe:v,root:b,html:S,handlers:w,role:_}=i;return _=="form"&&function(){s.bind(i)()}(),h.Observer.registerSubscribe(v).then(()=>({root:b,handlers:w}))}).then(({handlers:v,root:b})=>{h.Observer.registerHandlers(v,i.name),this._defineProperty(i,"root",function(){if(i._root)return i._root;{let S=b||"#app",w=document.querySelector(S);if(w)return w}throw new Error(`the selector '${b}' as container of component '${i.name}' is not found!`)},function(S){Object.assign(i,{_root:S})}),this._defineProperty(i,"$scope",function(){return y})}).then(()=>{i.fire=function(){function v(S,w){w=w?typeof w=="function"?w.bind(i)():function(){return w}.bind(i)():null;let _={[S]:()=>w};if(fn=_[S].bind(i),typeof fn=="function"){let T=function(P){let $={};if(!P)return $;let L=P.attributes;if(L)for(let A=0;A<L.length;A++){let C=L[A],j=C.name,N=C.value;$[j]=N}return $};var O=T;fn.name=S,fn.original=S,fn.binded=i.name,h.Observer.registerHandlers({[S]:fn},i.name);let k=w;if(w&&(w.element||w.root||w.container)){let P=T(w.element),$=T(w.root),L=T(w.container);k={status:0,attributes:{element:P,root:$,container:L}}}h.MainMessageChannel.send({component:i.name,event:S,payload:k});let E=h.Observer.notify(i.name,S,{}).then(()=>h.Observer.results[i.name][S]);return i.await[S]=E,i.await[S]}console.error("the param in fire is not an instance of function")}function b(S,w){for(let _ in w)if(w.hasOwnProperty(_)){let O=w[_],k=O.original;Object.defineProperty(S,k,{get(){let T={[k]:function(E,P){if(P!=null&&(P=P),P==null&&k=="destroy"&&(P=!0),P==null&&(P=!1),P){let $=new Promise((L,A)=>{setTimeout(()=>{let C=E;E&&E.element&&(C={status:0,message:"element cant be cloned"}),h.MainMessageChannel.send({component:i.name,event:p,payload:C}),h.Observer.notify(i.name,k,E).then(()=>h.Observer.results[i.name][k]).then(j=>{L(j)}).catch(j=>{console.error(j)})})});return i.await[k]=$,i.await[k]}else return O(E)}};return T[k]=T[k].bind(i),T[k].originalName=k,T[k].binded=i.name,T[k]}})}}return b(v,i.handlers),v}()}).then(()=>{i.type=="view"&&(i.toggler=i.toggler(i),h.Components[p]=i)}).then(()=>{i.options.data&&i.options.data.bind(i.data)(i),i.options.init&&i.options.init.bind(i)(),i.options.utils&&i.options.utils.bind(i.utils)(i),i.options.router&&h.Router.subscribe(i.options.router.bind(i))}).then(()=>{i.type=="model"&&(h.Models[p]=i),i.isStatic&&i.type=="view"&&i.render()})},h}});var ie=D(),ne=F(),re=B(),wt=K(),se=z(),U=G(),Ot=Q(),kt=V(),St=et(),Tt=nt(),Et=st(),Pt=ot(),_t=ct(),$t=ft(),Lt=pt()({StorageKit:U()}),Ct=gt()({StorageKit:U(),Templating:St(),Utils:wt}),At=yt()({Utils:wt,Mo:Tt,Templating:St(),Piece:Ot(),pushState:_t.pushState}),It=vt()({Attrib:Ct,Scope:Lt,Component:At,Hasher:Pt,Router:_t,Persistent:Et({StorageKit:U()}),StorageKit:U(),Observer:kt(),Formy:$t});window.Cake=It;})();
